/*!
 * zzSLider v0.3 by Zzbaivong <http://devs.forumvi.com>
 * Forked from Jlider v1.0 by Juskteez (vhuyphong@gmail.com)
 */
!function(e){"use strict";e.fn.zzslider=function(t){var n=e.extend({effect:"random",width:600,height:400,maxWidth:"100%",maxHeight:"100%",minWidth:300,minHeight:200,hideControl:"",playSpeed:3e3,autoPlay:!0,onPlay:function(){},onPause:function(){},onChange:function(){},onLoaded:function(){},onFullscreen:function(){},onExitfullscreen:function(){},helper:function(){}},t);return this.each(function(){var t=e(this),i=function(t,n){return e("<div>",{"class":"jlider_"+t,text:n})},l=i("wrap",""),a=i("control",""),r=i("pause","Pause"),c=i("full","Fullscreen"),s=i("next","Next"),u=i("prev","Prev"),o=i("paging",""),d=i("progress","");t.addClass("jlider_list").wrap('<div class="jlider_wrap"></div>');var l=t.parent();l.css({width:n.width,height:n.height,maxWidth:n.maxWidth,maxHeight:n.maxHeight,minWidth:n.minWidth,minHeight:n.minHeight}),r.add(c).add(s).add(u).add(o).appendTo(a),a.add(d).insertBefore(t);var g,f=function(){d.animate({width:"100%"},n.playSpeed,"linear",function(){x(j(!0)),d.width(0),f()})},m=function(){d.stop(!0,!1),d.width(0),n.onPause.call(l,e("li.jactive > img",t))},v=function(){"Play"==r.text()&&(f(),n.onPlay.call(l,e("li.jactive > img",t)))},h=e("li",t),p=h.length,x=function(i){var a=n.effect,r="left right up down zoomIn zoomOut skewLeft skewRight skewUp skewDown rotateLeft rotateRight";t.removeClass("zz"+r.split(" ").join(" zz")),("random"==a||-1!==a.indexOf(" "))&&("random"==a&&(a=r),a=a.split(" ")[Math.floor(Math.random()*a.split(" ").length)]),t.addClass("zz"+a),setTimeout(function(){e(".jactive",t).add(e(".jactive",o)).removeClass("jactive"),h.eq(i).add(g.eq(i)).addClass("jactive"),s.attr("data-img",e("img",t).eq(i+1).attr("src")),u.attr("data-img",e("img",t).eq(i-1).attr("src")),n.onChange.call(l,e("li.jactive > img",t))},100)};d.css({height:"100%",width:"100%",background:"rgba(0, 0, 0, 0.69)"});var z=e("<div>",{"class":"jlider_percent",text:"0%"}).appendTo(l),w=1,F=function(i){var a=Math.round(i/p*100);d.animate({height:100-a+"%"},50,"linear",function(){x(i),z.text(a+"%"),i===p&&(d.removeAttr("style"),z.addClass("zz100").fadeOut(200,function(){n.autoPlay&&(r.text("Play").addClass("jlider_play"),v()),l.hover(function(){l.hasClass("zzfullscreen")||l.hasClass("zzfullwindow")||m()},function(){v()}),z.remove(),x(0),o.css("bottom",0),n.onLoaded.call(l,e("img",t).first())}))})};h.each(function(t){var i=e("img",this);i[0].complete?F(w++):i.load(function(){F(w++)}).error(function(){F(w++)}),o.append(e("<div>",{"class":"zzpage","data-index":t,"data-img":i.attr("src"),html:"<span>"+(t+1)+"</span>"}))}),g=e(".zzpage",o),o.css("marginLeft","-"+o.outerWidth(!0)/2+"px");var j=function(t){var i,n=parseInt(e(".jactive",o).data("index"),10);return t?(i=n+1,i==p&&(i=0)):(i=n-1,-1==i&&(i=p-1)),i};s.click(function(){x(j(!0))}),u.click(function(){x(j())}),g.click(function(){x(parseInt(e(this).data("index"),10))}),r.click(function(){"Play"==r.text()?(r.text("Pause").removeClass("jlider_play"),m()):(r.text("Play").addClass("jlider_play"),v())});var C=n.hideControl;C&&""!==C.match(/\s*(.*)\s*/)[1]&&e.each(C.split(" "),function(e,t){/\b(play|pause|next|prev|paging|full|progress)\b/.test(t)&&("play"==t&&(t="pause"),l.find(".jlider_"+t).hide())});var y=function(e){e.requestFullscreen?e.requestFullscreen():e.msRequestFullscreen?e.msRequestFullscreen():e.mozRequestFullScreen?e.mozRequestFullScreen():e.webkitRequestFullScreen&&e.webkitRequestFullScreen()},k=function(){document.exitFullscreen?document.exitFullscreen():document.msExitFullscreen?document.msExitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitCancelFullScreen&&document.webkitCancelFullScreen()},P=function(){"Play"==r.text()&&v(),s.add(u).add(o).hover(function(){m()},function(){v()}),n.onFullscreen.call(l,e("li.jactive > img",t))};c.click(function(){void 0===document.msFullscreenElement&&void 0===document.fullscreenElement&&void 0===document.mozFullScreenElement&&void 0===document.webkitFullscreenElement?l.toggleClass(function(){return l.hasClass("zzfullwindow")?P():n.onExitfullscreen.call(l,e("li.jactive > img",t)),"zzfullwindow"}):document.fullscreenElement||document.mozFullScreenElement||document.webkitFullscreenElement||document.msFullscreenElement?(k(),n.onExitfullscreen.call(l,e("li.jactive > img",t))):(y(l[0]),P())}),n.helper.call(l,{temp:{control:{play:r,full:c,next:s,prev:u,paging:g},progress:d,list:h}},n)})}}(jQuery);